# Rime schema
# encoding: utf-8

# é€‚é…äº†åŒæ‹¼
# åŒæ‹¼é”®ä½æ˜ å°„å¤åˆ¶è‡ª https://github.com/rime/rime-double-pinyin
# åŒæ‹¼ä¹‹é—´ä¸»è¦å°±æ˜¯ speller/algebra å’Œ translator/preedit_format è¿™é‡Œæœ‰åŒºåˆ«ã€‚

# æ–¹æ¡ˆè¯´æ˜
schema:
  schema_id: double_pinyin_flypy
  name: "å°é¹¤åŒæ‹¼-è–„è·å®šåˆ¶"
  version: "24.09.10"
  author:
    - Mintimate
  description: |
    Mintimateçš„è–„è·å°é¹¤åŒæ‹¼æ–¹æ¡ˆã€‚
    é™¤äº†å‚è€ƒå®˜æ–¹å°é¹¤åŒæ‹¼ï¼Œè¿˜å‚è€ƒï¼š
      * chenhe: https://chenhe.me
      * rime wiki: https://github.com/rime/home/wiki
      * rime ice: https://github.com/iDvel/rime-ice
      * Chewing - æ–°é…·éŸ³
      * opencc - é–‹æ”¾ä¸­æ–‡è½‰æ›
  dependencies:
    - rime_zivon

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: emoji_suggestion
    states: [ "ğŸ˜£ï¸","ğŸ˜ï¸"]
    reset: 1
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
    reset: 0
  - name: transcription
    states: [ ç®€ä½“ , ç¹ä½“ ]
    reset: 0
  - name: ascii_punct
    states: [ "ã€‚ï¼Œ", "ï¼ï¼Œ" ]
    reset: 0

engine:
  processors:
    - ascii_composer                               # â€» è™•ç†è¥¿æ–‡æ¨¡å¼åŠä¸­è¥¿æ–‡åˆ‡æ›
    - recognizer                                   # â€» èˆ‡ matcher æ­é…ï¼Œè™•ç†ç¬¦åˆç‰¹å®šè¦å‰‡çš„è¼¸å…¥ç¢¼ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
    - key_binder                                   # â€» åœ¨ç‰¹å®šæ¢ä»¶ä¸‹å°‡æŒ‰éµç¶å®šåˆ°å…¶ä»–æŒ‰éµï¼Œå¦‚é‡å®šç¾©é€—è™Ÿã€å¥è™Ÿçˆ²å€™é¸ç¿»é éµ
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor                                    # æ¨™è­˜è¥¿æ–‡æ®µè½
    - matcher                                            # æ¨™è­˜ç¬¦åˆç‰¹å®šè¦å‰‡çš„æ®µè½ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
    - affix_segmentor@rime_zivon
    - abc_segmentor                                      # æ¨™è­˜å¸¸è¦çš„æ–‡å­—æ®µè½
    - punct_segmentor                                    # æ¨™è­˜å¥è®€æ®µè½
    - fallback_segmentor                                 # æ¨™è­˜å…¶ä»–æœªæ¨™è­˜æ®µè½
  translators:
    - punct_translator                                   # â€» è½‰æ›æ¨™é»ç¬¦è™Ÿ
    - script_translator
    - reverse_lookup_translator@rime_zivon
  filters:
    - simplifier@transcription_cc
    - simplifier@chaifen_cc                   # é¹¤å½¢æ‹†å­—è¾…åŠ©æ»¤é•œ
    - uniquifier                              # å»é‡


# ç®€ç¹åˆ‡æ¢
transcription_cc:
  option_name: transcription
  opencc_config: s2t.json             # s2t.json | s2hk.json | s2tw.json | s2twp.json
  tips: none                          # è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚
  excluded_types: [ reverse_lookup ]  # ä¸è½¬æ¢åæŸ¥ï¼ˆä¸¤åˆ†æ‹¼å­—ï¼‰çš„å†…å®¹

# é¹¤å½¢æ‹†å­—è¾…åŠ©æ»¤é•œ
chaifen_cc:
  opencc_config: fly_Chaifen.json
  option_name: chaifen
  show_in_comment: true  # æ˜¯å¦ä»…å°†è½¬æ¢ç»“æœæ˜¾ç¤ºåœ¨å¤‡æ³¨ä¸­
  comment_format:
    - "xform/&nbsp;/ /"
  tags:                  # è®¾ç½®å…¶ä½œç”¨èŒƒå›´
    - abc
    - storkfly
    - reverse_lookup
  tips: char             #  å•å­—åŠ æ»¤é•œ: char; å…¨éƒ¨: allï¼Œ



# å°é¹¤éŸ³å½¢é…ç½®
axu_code:
  # æ¿€æ´»ç 
  trigger_word: ";"
  # å±•ç¤ºè¾…ç çš„æ¨¡å¼
  # always:   æ€»æ˜¯å±•ç¤º(é»˜è®¤)
  # trigger:  è¾“å…¥æ¿€æ´»ç åæ¿€æ´»è¾…ç 
  # none:     å§‹ç»ˆä¸å±•ç¤ºè¾…ç 
  show_aux_notice: "trigger"


translator:
  # å­—å…¸æ–‡ä»¶
  dictionary: double_pinyin_flypy  #rime_mint          # ä½¿ç”¨çš„å­—å…¸æ–‡ä»¶
    #prism: double_pinyin_flypy     # å¤šæ–¹æ¡ˆå…±ç”¨ä¸€ä¸ªè¯åº“æ—¶ï¼Œä¸ºé¿å…å†²çªï¼Œéœ€è¦ç”¨ prism æŒ‡å®šä¸€ä¸ªåå­—ã€‚
  comment_format:               # æ ‡è®°æ‹¼éŸ³æ³¨é‡Šï¼Œä¾› corrector.lua åšåˆ¤æ–­ç”¨
    - xform/^/ï¼»/
    - xform/$/ï¼½/
  preedit_format:
    - xform/([bpmfdtnljqx])n/$1iao/
    - xform/(\w)g/$1eng/
    - xform/(\w)q/$1iu/
    - xform/(\w)w/$1ei/
    - xform/([dtnlgkhjqxyvuirzcs])r/$1uan/
    - xform/(\w)t/$1ve/
    - xform/(\w)y/$1un/
    - xform/([dtnlgkhvuirzcs])o/$1uo/
    - xform/(\w)p/$1ie/
    - xform/([jqx])s/$1iong/
    - xform/(\w)s/$1ong/
    - xform/(\w)d/$1ai/
    - xform/(\w)f/$1en/
    - xform/(\w)h/$1ang/
    - xform/(\w)j/$1an/
    - xform/([gkhvuirzcs])k/$1uai/
    - xform/(\w)k/$1ing/
    - xform/([jqxnl])l/$1iang/
    - xform/(\w)l/$1uang/
    - xform/(\w)z/$1ou/
    - xform/([gkhvuirzcs])x/$1ua/
    - xform/(\w)x/$1ia/
    - xform/(\w)c/$1ao/
    - xform/([dtgkhvuirzcs])v/$1ui/
    - xform/(\w)b/$1in/
    - xform/(\w)m/$1ian/
    - xform/([aoe])\1(\w)/$1$2/
    - "xform/(^|[ '])v/$1zh/"
    - "xform/(^|[ '])i/$1ch/"
    - "xform/(^|[ '])u/$1sh/"
    - xform/([jqxy])v/$1u/
    - xform/([nl])v/$1Ã¼/
    - xform/Ã¼/v/  # Ã¼ æ˜¾ç¤ºä¸º v
  initial_quality: 1.2
  enable_completion: false # å¼€å¯é€éµæç¤º
  preedit_format: {} # è¾“å…¥åŒæ‹¼ç çš„æ—¶å€™ä¸è½¬åŒ–ä¸ºå…¨æ‹¼ç 
  enable_charset_filter: false
  enable_sentence: false  # å¯ç”¨è‡ªåŠ¨å¥å­è¾“å…¥
  enable_user_dict: false  # å¯ç”¨ç”¨æˆ·è¯å…¸_è‡ªåŠ¨è°ƒé¢‘
  enable_encoder: false  # å¯ç”¨è‡ªåŠ¨é€ è¯
  encode_commit_history: false  # å¯¹å·²ä¸Šå±çš„è¯è¯­è¿›è¡Œè‡ªåŠ¨ç¼–ç ä»¥æé«˜ä¸‹æ¬¡è¾“å…¥çš„å‘½ä¸­ç‡

# æ‹¼å†™è®¾å®š
speller:
  # å¦‚æœä¸æƒ³è®©ä»€ä¹ˆæ ‡ç‚¹ç›´æ¥ä¸Šå±ï¼Œå¯ä»¥åŠ åœ¨ alphabetï¼Œæˆ–è€…ç¼–è¾‘æ ‡ç‚¹ç¬¦å·ä¸ºä¸¤ä¸ªåŠä»¥ä¸Šçš„æ˜ å°„
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA~;
  delimiter: " `"  # ç¬¬ä¸€ä½<ç©ºæ ¼>æ˜¯æ‹¼éŸ³ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼›ç¬¬äºŒä½<'>è¡¨ç¤ºå¯ä»¥æ‰‹åŠ¨è¾“å…¥å•å¼•å·æ¥åˆ†å‰²æ‹¼éŸ³ã€‚
  algebra:
    - erase/^xx$/
    - derive/^([jqxy])u$/$1v/
    - derive/^([aoe])([ioun])$/$1$1$2/
    - xform/^([aoe])(ng)?$/$1$1$2/
    - xform/iu$/â“†/
    - xform/(.)ei$/$1â“Œ/
    - xform/uan$/â“‡/
    - xform/[uv]e$/â“‰/
    - xform/un$/â“/
    - xform/^sh/â“Š/
    - xform/^ch/â’¾/
    - xform/^zh/â“‹/
    - xform/uo$/â“„/
    - xform/ie$/â“…/
    - xform/(.)i?ong$/$1â“ˆ/
    - xform/ing$|uai$/â“€/
    - xform/(.)ai$/$1â’¹/
    - xform/(.)en$/$1â’»/
    - xform/(.)eng$/$1â’¼/
    - xform/[iu]ang$/â“/
    - xform/(.)ang$/$1â’½/
    - xform/ian$/â“‚/
    - xform/(.)an$/$1â’¿/
    - xform/(.)ou$/$1â“/
    - xform/[iu]a$/â“/
    - xform/iao$/â“ƒ/
    - xform/(.)ao$/$1â’¸/
    - xform/ui$/â“‹/
    - xform/in$/â’·/
    - xlit/â“†â“Œâ“‡â“‰â“â“Šâ’¾â“„â“…â“ˆâ’¹â’»â’¼â’½â’¿â“€â“â“â“â’¸â“‹â’·â“ƒâ“‚/qwrtyuiopsdfghjklzxcvbnm/
    # - abbrev/^(.).+$/$1/  # é¦–å­—æ¯ç®€æ‹¼ï¼Œå¼€å¯åä¼šå¯¼è‡´ 3 ä¸ªå­—æ¯æ—¶ kj'x å˜æˆ k'jx çš„é—®é¢˜

rime_zivon:
  tag: rime_zivon
  dictionary: rime_zivon
  enable_user_dict: false
  enable_completion: false
  prefix: "Uw"
  tips: ã€”äº”ç¬”ã€•



punctuator:
  import_preset: symbols
  # å®šä¹‰éƒ¨åˆ†åŠè§’å­—ç¬¦
  half_shape:
      "#": "#"
      "*": "*"
      '.' : { commit: ã€‚ }
      "`": "`"
      "~": "~"
      "@": "@"
      "=": "="
      "/": ["/", "Ã·",]
      '\': "ã€"
      "_" : "â”€â”€"
      "'": {pair: ["ã€Œ", "ã€"]}
      "[": ["ã€", "["]
      "]": ["ã€‘", "]"]
      "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
      "<": ["ã€Š", "ã€ˆ", "Â«", "<"]
      ">": ["ã€‹", "ã€‰", "Â»", ">"]


# åæŸ¥æ˜ å°„
recognizer:
  import_preset: default
  patterns:
    url: "^[a-z]+[.].+$"
    punct: "^/[0-9a-zA-Z]*'?$"
    wubi98_mint: "Uw[a-z]*'?$"
    stroke: "Ui[a-z]*'?$"
    radical_lookup: "Uu[a-z]*'?$"
    rmb: "^R[0-9]+[.]?[0-9]*"        # å“åº” lua_translator@number_translator è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ä½œä¸ºè§¦å‘å‰ç¼€
    gregorian_to_lunar: "^N[0-9]{1,8}"  # å“åº” lua_translator@Chinese_lunar_calendar å…¬å†è½¬å†œå†ï¼Œè¾“å…¥ N20240115 å¾—åˆ°ã€ŒäºŒã€‡äºŒå››å¹´è…Šæœˆåˆäº”ã€ï¼Œè„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ä½œä¸ºè§¦å‘å‰ç¼€
    uppercase: ""  # è¦†å†™é»˜è®¤çš„ uppercase ä½¿å…¶å¯ä»¥åœ¨è¾“å…¥å¤§å†™åï¼Œè¾“å…¥æ•°å­—
key_binder:
  import_preset: default
    
menu:
  # å€™é€‰è¯ä¸ªæ•°
  page_size: 6
